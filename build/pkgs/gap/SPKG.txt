= GAP =

== Description ==

This is a stripped-down version of GAP.  The databases, which are architecture-
independent, are in a separate package and doc and tests are removed.

As of GAP 4.4.12.p6, the tests and documentation (pre-built HTML and LaTeX
sources) are included again.  (Not sure whether all of this intentionally.)

== SPKG Maintainers ==

 * William Stein
 * Robert Miller
 * David Joyner
 * Dmitrii Pasechnik

== Upstream Contact ==

David Joyner, wdjoyner@gmail.com (on the GAP team, but
Steve Linton, sal@dcs.st-and.ac.uk, is basically the lead developer)

== Dependencies ==

 * readline (according to spkg/standard/deps)
 * Sage (? also according to deps, "so that gap_reset_workspace works")

== Special Update/Build Instructions ==

 * TODO:
   - Use `patch` instead of copying patched files.
     (Then also add `patch` to the dependencies above.)
   - "Flatten" (i.e. remove) the `build()` function.
   - Perhaps check whether we can fix GAP's configure / build scripts
     w.r.t. brokenness of multiple words in `CC` (and `CXX`?) and its
     ignorance concerning `CFLAGS`, `CPPFLAGS` and `LDFLAGS`.
     (Then also support `SAGE_DEBUG` in `spkg-install`, and probably
     set up reasonable default `CFLAGS`.)

 * Do we really want to copy everything from the build directory???
   (Cf. comment in `spkg-install`.)

 * There's apparently a command missing (in `spkg-install`) building the
   (HTML?) documentation.  Earlier changelog entries as well as the description
   above state the documentation was removed from the upstream sources...
   Since the (pre-)built HTML documentation is currently included, I've
   commented out some lines in that part of `spkg-install`. -leif

 * Upon upgrading, check whether the build still fails when `CC` or `CXX`
   contain spaces (or multiple words, as e.g. with `CC="ccache gcc"`).
   Otherwise unsetting `CC` and `CXX` can be removed, which is an odd work-
   around anyway.

 * `spkg-install` contains further instructions and hints.

== Changelog ==

=== gap-4.4.12.p8 (Jean-Pierre Flori, Leif Leonhardy, 5 August 2012) ===
 * #13341: Only create symbolic link to gap.exe on Cygwin if needed.

=== gap-4.4.12.p7 (Leif Leonhardy, March 22nd 2012) ===
 * #7041: Only unset `CC` and `CXX` if really necessary (i.e., if they
   contain spaces, which is what currently would break the build).
 * Clean up `spkg-install`.  Some things seem still weird, see comments.
 * Added "Special Update/Build Instructions" section above.

=== gap-4.4.12.p6 (Jeroen Demeyer, 8 August 2011) ===
 * Trac #11661: Make all files world-readable
 * Remove obsolete dist directory and spkg-debian script

=== gap-4.4.12.p5 (Jason Grout, 22 Feb 2011) ===
 * #10825: Add SAGE_SPKG_INSTALL_DOCS support to build and install docs in
   $SAGE_ROOT/local/share/doc/

=== gap-4.4.12.p4 (David Kirkby, 14th June 2010) ===
 * #9098 "gap buillds 32-bit on OpenSolaris when SAGE64=yes"
   Change spkg-install to allow gap to build 64-bit on Solaris.
   The changes are only for Solaris, since there are numerous
   warnings that setting CC causes problems. Note, this will not
   built 64-bit on OS X by setting the SAGE64 variable to "yes".

=== gap-4.4.12.p3 (Willem Jan Palenstijn, 2010-4-28) ===
 * #8773: Fix some problems with strict aliasing (gcc 4.5)
 * Don't pre-apply saveload.patch to src/ directory.
 * Remove some files in src/tst which seemed to have been copied from src/

=== gap-4.4.12.p2 (Dima Pasechnik, 2010-4-27) ===
 * removed everything in src/bin/ (Windows/Cygwin-less related stuff,
   i.e. not needed if full-blown Cygwin is used),
   and GAP 4 PPC (a MacOS 9 executable) in src/

=== gap-4.4.12.p1 (Dima Pasechnik, 2010-1-25) ===
 * See ticket #8076 for full details.
 * Added .hgignore.
 * Applied Steve Linton's Itanium patch to GAP_ROOT/src/saveload.c
   (not using the usual patches/* procedure, as this is
   an upstream patch.)
 *  Removed a stray binary file "patch" at the top level.
 *  Replaced $LN, $MKDIR, etc as done in gap-4.4.10.p13 (see below)

=== gap-4.4.12.p0 (David Joyner, 2009-6-17) ===
 * Upgraded to gap-4.4.12. Removed guava compilation. From the source
   GAP tarball, removed tomlib, small, prim, trans.

=== gap-4.4.10.p13 (David Kirkby, January 8th, 2010) ===
 * #7873 Remove references to $LN, $MKIDR and $RM and replace
   with ln, mkdir and rm, as agreed at
   http://groups.google.com/group/sage-devel/browse_thread/thread/bd7ae07a1157be
ad/970aa0dc8fa56ab7?lnk=raot

=== gap-4.4.10.p12 (William Stein, June 2, 2009) ===
 * Turn optimization back off for itanium, using exactly the same code as from
   before to do this.

=== gap-4.4.10.p11 (Michael Abshoff, September 20th, 2008) ===
 * Delete all old GAP installs due to a downgrade from GAP 4.4.12 (#5697)

=== gap-4.4.10.p10 (Michael Abshoff, September 20th, 2008) ===
 * unset CXX in spkg-install (work around for #4161)

=== gap-4.4.10.p9 (William Stein, August 27th, 2008) ===
 * Apply all the itanium patches to the src/ directory.
   These are from http://www.gap-system.org/Faq/Hardware-OS/hardware-os8.html
   and will be in *all* future versions of Gap (i.e., they come
   from upstream).  They change about 10 files, so I didn't not
   use our usual patches/* and copy protocol.

=== gap-4.4.10.p8 (Michael Abshoff, June 16th, 2008) ===
 * unset CC in spkg-install (work around for #2575)

=== gap-4.4.10.p6 (David Joyner, April 11th, 2008) ===
 * replace guava 3.4 by guava 3.4 with fixed Makefile.in

=== gap-4.4.10.p5 (Michael Abshoff, April 1st, 2008) ===
 * Debianize GAP spkg (Tim Abbott, #2756)

=== gap-4.4.10.p4 (Robert Miller, March 31st, 2008) ===
 * Leon's code is now fully compiled and copied over to $SAGE_LOCAL

=== gap-4.4.10.p3 (David Joyner, March 30th, 2008) ===
 * replace guava 3.1 by guava 3.3

=== gap-4.4.10.p2 (Michael Abshoff, Jan. 31st, 2008) ===
 * remove src/pkg/guava3.1/src/leonconv (#2006)

=== gap-4.4.10.p1 (Michael Abshoff, Jan. 22nd, 2008) ===
 * remove 1500 crap files from the spkg (part of #1883)

=== gap-4.4.10.p0 ===

Upgraded to gap-4.4.10.  Had to change files in the patches directory that
hard code gap-4.4.9.

--------------------


This is a stripped-down version of GAP.  The databases, which are arch
independent, are in a separate package and doc and tests are removed.

PACKAGE MAINTAINERS: William Stein, Martin Albrecht, and David Joyner

** IMPORTANT **:
   When you update this package, be sure to put the guava package
   in the package directory!!

DELETED:
   doc -- some of documentation:
 rm *.bbl *.aux *.dvi *.idx *.ilg *.l* *.m* *.pdf *.toc  *.blg *.ind
 rm */*.bbl */*.aux */*.dvi */*.idx */*.ilg */*.l* */*.m* */*.pdf */*.ind */*.toc */*.blg

   tst -- tests
   bin -- some BIG windows programs, which we don't need since GAP
          is only going to be used via expect

DATABASES (separated out):
   small -- small group's database; will distribute separately.
   pkg/tomlib -- just contains the "Table of Marks"; distribute separately.
   prim
   trans
