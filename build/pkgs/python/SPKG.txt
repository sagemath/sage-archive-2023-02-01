= python =

== Description ==

Python is a dynamic object-oriented programming language that can be
used for many kinds of software development. It offers strong support
for integration with other languages and tools, comes with extensive
standard libraries, and can be learned in a few days. Many Python
programmers report substantial productivity gains and feel the
language encourages the development of higher quality, more
maintainable code.

For more details see http://www.python.org

== License ==

Python is licensed under the PSF LICENSE. The Python license imposes
very few restrictions on what you can do with Python. Most of the
source code is copyrighted by the Python Software Foundation (PSF). A
few files have a different copyright owner, but the same license
applies to all of them. Python's licensing is GPL compatible.

For more details see http://www.python.org/psf/license/

== SPKG Maintainers ==
 * William Stein
 * Mike Hansen
 * Craig Citro

== Upstream Contact ==

There are a large number of community resources. For more details see
http://www.python.org/community/

== Dependencies ==

 * None

== Special Update/Build Instructions ==

 * Remove src/Lib/distutils/command/wininst-*.exe when building a
   new spkg. Once we support Windows we will likely need to add them
   back in.
 * We used to block parallel MAKE, but extensive testing [make -j64]
   showed that there is no longer any problem. The problem was the a
   parallel make install causes trouble.
 * There are two fixes that can be removed once we update to a
   Python newer than 2.6.4: the readline-spacebug.patch below, and
   the 'unset DISTUTILS_DEBUG' in spkg-install.

=== Patches ===

 * cPickle.c.patch, pickle.py.patch: These add support for pickling
   classes with a metaclass via copy_reg. These have been submitted
   upstream: http://bugs.python.org/issue7689
 * locale.py: Work around import failures for locales
 * readline-spacebug.patch: Fix issue where a space is inserted
   after tab completing at the command line. This is merged upstream
   and can be removed as soon as a Python newer than 2.6.4 is used.
 * readline-Itanium-fix.patch: Fix Itanium specific readline
   extension problem.
 * sdist.py.patch: Make sure that sdist copies over the .hg directory.
 * socket.py.patch: Work around an SSL issue.
 * Makefile.pre.in.patch:  Fixes http://bugs.python.org/issue1628484
   This was merged upstream for Python 2.6.6 and 2.7.

== Changelog ==

=== python-2.6.4.p8 (Mike Hansen, 25th May, 2010) ===
 * Added '--enabled-shared' which is needed on certain platforms
   (Linux and Solaris) for #8542.
 * Added a Makefile.pre.in patch described above.

=== python-2.6.4.p7 (David Kirkby, 5th March, 2010) ===
 * #7867 Fixes a Python bug that prevents some python extensions
 being build on Solaris. See http://bugs.python.org/issue1759169
 http://trac.sagemath.org/sage_trac/ticket/7867
 This is a critical bug fix, as it completely stops a build on
 Solaris 10 (SPARC).
 * #8440 Set HAVE_FD_TRANSFER=0 in setup.py to allow
   _multiprocessing to build on Solaris.
 * #8356 Remove the option --without-libpng to Python's configure
   script, as that is no longer a valid option.

=== python-2.6.4.p6 (Jaap Spies, Feb 23, 2010) ===
 * #7761 Fix build in Open Solaris x64 with SAGE64=yes

=== python-2.6.4.p5 (William Stein, Jan 20, 2010) ===
* Fix bug on Itanium introduced by typo by Craig in #60.  See trac 8020.

=== python-2.6.4.p4 (Craig Citro, Jan 17, 2010) ===
* Move MACOSX_DEPLOYMENT_TARGET fix to sage-env, so that it's
  used for all python-related spkgs. (This was leading to a
  build issue with numpy and scipy on 10.4.)

=== python-2.6.4.p3 (John Palmieri, David Kirkby Jan 14, 2010) ===
* Add "CC=$CC $CFLAGS" in order to get the code to honor CFLAGS.
  Otherwise, CFLAGS gets ignored. Changes to sage-env will ensure
  CFLAGS gets set to sensible values.
* Do same for CXX and CXXFLAGS
* Remove an undesirable 'set -e' which stopped errors being displayed.

=== python-2.6.4.p2 (Craig Citro, Jan 14, 2010) ===
* Fix OSX 10.6 "Abort trap" issue by setting an appropriate value for
  MACOSX_DEPLOYMENT_TARGET. See trac #7095 for more details.

* General cleanup of spkg-install, patches/ directory.

=== python-2.6.4.p1 (John Palmieri Jan 11, 2010) ===
* Remove the pkgutil.py patch, since it doesn't seem to be needed any
  more.

=== python-2.6.4.p0 (John Palmieri Jan 11, 2010) ===
* Upgrade to Python 2.6.4.  Remove the ctypes__init__.py patch, since
  it only applies to OS X 10.3 or earlier, and we don't support that.

=== python-2.6.2.p2 (Jason Grout Sep 22, 2009) ===
* Patch for readline-6.0: http://bugs.python.org/issue5833 (we
  applied the small patch
  http://bugs.python.org/file14599/python-2.6-readline.patch)

=== python-2.6.2.p0 (Robert Miller June 25th, 2009) ===
 * Fixed issue with "import _ssl"
 * Help from Martin Albrecht and William Stein

=== python-2.6.2 (Mike Hansen June 19th, 2009) ===
 * Updated to Python 2.6.2.
 * Removed the patches to posixmodule.c and pymactoolbox.h since they
    had been fixed upstream.

=== python-2.5.4.p0 (Mike Hansen, May 28th, 2009) ===
 * Fixed issue with distutils's sdist command not copying over our .hg
   repository.  This change that caused this was
   http://bugs.python.org/issue1725737.
 * Included a fix by Michael Abshoff: patch posixmodule.c to avoid an
   incorrectly detected out of memory error - see
   http://bugs.python.org/issue1608818

=== python-2.5.4 (Michael Abshoff, February 15th, 2008) ===
 * rebase to latest upstream 2.5.4 release

=== python-2.5.2.p8 (Michael Abshoff, September 24th, 2008) ===
 * disable parallel make install

=== python-2.5.2.p7 (Robert Miller, International Talk Like a Pirate Day, 2008) ===
 * 'oist th' fwrapv option on itanium, ya landlubber what deserves the
   black spot!

=== python-2.5.2.p6 (Michael Abshoff, September 14th, 2008) ===
 * disable pymalloc if SAGE_VALGRIND is set to "yes"
 * since we now support parallel building of python sleep three
   seconds before testing for a working python

=== python-2.5.2.p5 (Michael Abshoff, August 30th, 2008) ===
 * also disabled OSX extensions on 32 bit Darwin

=== python-2.5.2.p4 (Michael Abshoff, August 25th, 2008) ===
 * Set LDFLAGS and CPPFLAGS to pick up Sage's readline (#3947)

=== python-2.5.2.p3 (Michael Abshoff, July 9th, 2008) ===
 * remove -fwrapv from the build flags for Itanium

=== python-2.5.2.p2 (Michael Abshoff, May 28th, 2008) ===
 * reenable parallel make again (Gary Furnish, #3322)

=== python-2.5.2.p1 (Michael Abshoff, May 28th, 2008) ===
 * Improve OSX 64 bit support even more (#3318)

=== python-2.5.2.p0 (Michael Abshoff, May 18th, 2008) ===
 * Improve OSX 64 but build support

=== python-2.5.2 (Michael Abshoff, March 26th, 2008) ===
 * upgrade to the 2.5.2 release
 * clean up SPKG.txt
 * add 64 bit OSX 10.5 build support
 * make sure SAGE_LOCAL is set (#633)

=== python-2.5.1.p14 (Michael Abshoff, March. 28th, 2008) ===
  * Fix OSX 10.5 detection code to handle 10.5.2 and higher (#2672)

=== python-2.5.1.p13 (Michael Abshoff, Jan. 22st, 2008) ===
 * remove executables from tarball

=== python-2.5.1.p12 (Michael Abshoff, Jan. 21st, 2008) ===
 * update patches/local.py (fixes #1604, fixed by William Stein)

=== python-2.5.1.p11 (Michael Abshoff) ===
 * enable ucs4 per default
 * add .hgignore

=== python-2.5.1.p10 ===
 * Details of this and prior releases are lost to history.

