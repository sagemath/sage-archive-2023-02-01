#!sage.bin

import os, sys

os.chdir(sys.argv[1])

if len(sys.argv) < 3:
    print "You must give a file argument"
    sys.exit(1)

file    = sys.argv[2]
options = ' '.join(sys.argv[3:])


if file[-5:] == '.sage':
    if os.system('sage -preparse %s'%file):
        sys.exit(1)
    e = os.system('sage-python %s.py %s'%(file[:-5], options))
    sys.exit(e)
else:
    e = os.system('sage-python %s %s'%(file, options))
    if e:
        print "sage: Error running %s using Python"%file
    sys.exit(e)




